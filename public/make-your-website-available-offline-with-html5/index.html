<!DOCTYPE html>
	<html lang="en-GB" prefix="og: http://ogp.me/ns#">
<head>

<meta charset="UTF-8"><script type="text/javascript">window.NREUM||(NREUM={}),__nr_require=function(e,t,n){function r(n){if(!t[n]){var o=t[n]={exports:{}};e[n][0].call(o.exports,function(t){var o=e[n][1][t];return r(o||t)},o,o.exports)}return t[n].exports}if("function"==typeof __nr_require)return __nr_require;for(var o=0;o<n.length;o++)r(n[o]);return r}({1:[function(e,t,n){function r(e,t){return function(){o(e,[(new Date).getTime()].concat(a(arguments)),null,t)}}var o=e("handle"),i=e(2),a=e(3);"undefined"==typeof window.newrelic&&(newrelic=NREUM);var u=["setPageViewName","addPageAction","setCustomAttribute","finished","addToTrace","inlineHit"],c=["addPageAction"],f="api-";i(u,function(e,t){newrelic[t]=r(f+t,"api")}),i(c,function(e,t){newrelic[t]=r(f+t)}),t.exports=newrelic,newrelic.noticeError=function(e){"string"==typeof e&&(e=new Error(e)),o("err",[e,(new Date).getTime()])}},{}],2:[function(e,t,n){function r(e,t){var n=[],r="",i=0;for(r in e)o.call(e,r)&&(n[i]=t(r,e[r]),i+=1);return n}var o=Object.prototype.hasOwnProperty;t.exports=r},{}],3:[function(e,t,n){function r(e,t,n){t||(t=0),"undefined"==typeof n&&(n=e?e.length:0);for(var r=-1,o=n-t||0,i=Array(0>o?0:o);++r<o;)i[r]=e[t+r];return i}t.exports=r},{}],ee:[function(e,t,n){function r(){}function o(e){function t(e){return e&&e instanceof r?e:e?u(e,a,i):i()}function n(n,r,o){e&&e(n,r,o);for(var i=t(o),a=l(n),u=a.length,c=0;u>c;c++)a[c].apply(i,r);var s=f[g[n]];return s&&s.push([m,n,r,i]),i}function p(e,t){w[e]=l(e).concat(t)}function l(e){return w[e]||[]}function d(e){return s[e]=s[e]||o(n)}function v(e,t){c(e,function(e,n){t=t||"feature",g[n]=t,t in f||(f[t]=[])})}var w={},g={},m={on:p,emit:n,get:d,listeners:l,context:t,buffer:v};return m}function i(){return new r}var a="nr@context",u=e("gos"),c=e(2),f={},s={},p=t.exports=o();p.backlog=f},{}],gos:[function(e,t,n){function r(e,t,n){if(o.call(e,t))return e[t];var r=n();if(Object.defineProperty&&Object.keys)try{return Object.defineProperty(e,t,{value:r,writable:!0,enumerable:!1}),r}catch(i){}return e[t]=r,r}var o=Object.prototype.hasOwnProperty;t.exports=r},{}],handle:[function(e,t,n){function r(e,t,n,r){o.buffer([e],r),o.emit(e,t,n)}var o=e("ee").get("handle");t.exports=r,r.ee=o},{}],id:[function(e,t,n){function r(e){var t=typeof e;return!e||"object"!==t&&"function"!==t?-1:e===window?0:a(e,i,function(){return o++})}var o=1,i="nr@id",a=e("gos");t.exports=r},{}],loader:[function(e,t,n){function r(){if(!w++){var e=v.info=NREUM.info,t=s.getElementsByTagName("script")[0];if(e&&e.licenseKey&&e.applicationID&&t){c(l,function(t,n){e[t]||(e[t]=n)});var n="https"===p.split(":")[0]||e.sslForHttp;v.proto=n?"https://":"http://",u("mark",["onload",a()],null,"api");var r=s.createElement("script");r.src=v.proto+e.agent,t.parentNode.insertBefore(r,t)}}}function o(){"complete"===s.readyState&&i()}function i(){u("mark",["domContent",a()],null,"api")}function a(){return(new Date).getTime()}var u=e("handle"),c=e(2),f=window,s=f.document;NREUM.o={ST:setTimeout,XHR:f.XMLHttpRequest,REQ:f.Request,EV:f.Event,PR:f.Promise,MO:f.MutationObserver},e(1);var p=(""+location).split("?")[0],l={beacon:"bam.nr-data.net",errorBeacon:"bam.nr-data.net",agent:"js-agent.newrelic.com/nr-892.min.js"},d=window.XMLHttpRequest&&XMLHttpRequest.prototype&&XMLHttpRequest.prototype.addEventListener&&!/CriOS/.test(navigator.userAgent),v=t.exports={offset:a(),origin:p,features:{},xhrWrappable:d};s.addEventListener?(s.addEventListener("DOMContentLoaded",i,!1),f.addEventListener("load",r,!1)):(s.attachEvent("onreadystatechange",o),f.attachEvent("onload",r)),u("mark",["firstbyte",a()],null,"api");var w=0},{}]},{},["loader"]);</script>
<meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no">
<title>Make your website available offline with HTML5 | Marco Troisi</title>
<link rel="profile" href="http://gmpg.org/xfn/11">
<link rel="icon" href="http://www.marcotroisi.com/wp-content/uploads/2014/02/1393636568_icon-navicon-round.png"><link rel="apple-touch-icon-precomposed" href="http://www.marcotroisi.com/wp-content/uploads/2014/02/1393636568_icon-navicon-round.png">
<meta name="description" content=""/>
<meta name="robots" content="noodp"/>
<meta property="og:locale" content="en_GB" />
<meta property="og:type" content="website" />
<meta property="og:title" content="Make your website available offline with HTML5" />
<meta property="og:description" content="" />
<meta property="og:url" content="http://www.marcotroisi.com" />
<meta property="og:site_name" content="Marco Troisi" />
<meta name="twitter:card" content="summary" />
<meta name="twitter:description" content="" />
<meta name="twitter:title" content="Make your website available offline with HTML5" />
<meta name="twitter:site" content="@marcotroisi" />

<meta name="twitter:creator" content="@marcotroisi" />
<script type='application/ld+json'>{"@context":"http:\/\/schema.org","@type":"WebSite","url":"http:\/\/www.marcotroisi.com\/","name":"Marco Troisi","potentialAction":{"@type":"SearchAction","target":"http:\/\/www.marcotroisi.com\/?s={search_term_string}","query-input":"required name=search_term_string"}}</script>
<script type='application/ld+json'>{"@context":"http:\/\/schema.org","@type":"Person","url":"http:\/\/www.marcotroisi.com","sameAs":["https:\/\/www.linkedin.com\/profile\/view?id=124863409&locale=en_US","https:\/\/twitter.com\/marcotroisi"],"name":"Marco Troisi"}</script>


<link rel="alternate" type="application/rss+xml" title="Marco Troisi - Feed" href="http://www.marcotroisi.com/feed/" />
<link rel='stylesheet' id='open-sans-css'  href='https://fonts.googleapis.com/css?family=Open+Sans%3A300italic%2C400italic%2C600italic%2C300%2C400%2C600&#038;subset=latin%2Clatin-ext&#038;ver=4.4.2' type='text/css' media='all' />
<link rel='stylesheet' id='style-css'  href='https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.3.6/css/bootstrap.min.css' type='text/css' media='all' />
<link rel='stylesheet' id='style-css'  href='/css/style.css?ver=2.9.6' type='text/css' media='all' />
<script type="text/javascript">
var _gaq = _gaq || [];
_gaq.push(['_setAccount', 'UA-36244852-1']);
_gaq.push(['_trackPageview']);
(function() {
var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
})();
</script>

<style id="custom-css-css">#optin-single input[type=submit]{width:10%}.entry-content{font-family:Georgia, Times, 'Times New Roman', serif}</style>
</head>

<body class="home blog logged-in admin-bar no-customize-support custom-background">

<div id="page" class="hfeed site">

	<header id="masthead" class="site-header" role="banner">

		<div class="site-branding">

			<a href="http://www.marcotroisi.com/" title="Marco Troisi"><img class="site-logo" src="http://www.marcotroisi.com/wp-content/uploads/2015/04/MarcoTroisi13.jpg"></a>
			<h2 class="site-description">technology, software development and productivity</h2>

		</div>
		<nav id="header-menu" class="menu horizontal-menu header-menu" role="navigation"><ul>
      <li id="menu-item-183" class="menu-item menu-item-type-custom menu-item-object-custom menu-item-home menu-item-183"><a href="http://www.marcotroisi.com/">Home</a>
      
      </li>
      <li id="menu-item-38" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-38"><a href="http://www.marcotroisi.com/about/">About Me</a></li>
      <li id="menu-item-76" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-76"><a href="http://www.marcotroisi.com/contact/">Contact</a></li>
      </ul>
    </nav>

	</header>


<div id="content" class="site-content">

  <div id="primary" class="content-area">
  	<main id="main" class="site-main" role="main">

      <article id="post-8" class="post-8 page type-page status-publish hentry">

      	<header class="entry-header">

          

      		<h1 class="entry-title">Make your website available offline with HTML5</h1>

      	</header>

      	<div class="entry-content">
          

<p>One of the really cool things <strong>HTML5</strong> allows to do is to make our web apps available even when our visitors are not connected to any network (assuming, obviously, that they have visited the website before, under network coverage).</p>

<p>While it is to be said that this feature (called <strong><em>AppCache</em></strong>) might not be useful/appropriate for many websites, it still remains a great feature that is going to positively affect the web in the next years, offering a much better user experience and giving a new reason to developers and companies for developing just one great HTML5 web app instead of <em>a lot</em> of native applications.</p>

<p>The use of the application cache feature can give some benefits to your web app, such as:</p>

<p>&#8211; <strong>Offline browsing</strong>: clearly, that is the main advantage</p>

<p>&#8211; <strong>Speed</strong>: Resources are downloaded and therefore faster to load when a user visit your website</p>

<p>&#8211; <strong>Less charge to the server</strong>: as it only have to download resources that have been changed</p>

<h2 id="let-8217-s-make-your-website-available-offline:cac56a5fff391b52f21b9921cdfce1eb">Let&#8217;s make your website available offline</h2>

<p>The first thing you have to do is to <strong>create a manifest</strong> that will list all the resources you want the local device to download. This manifest must be declared in your <html> element as an attribute.</p>

<pre>&lt;html manifest="nameofthemanifest.appcache"&gt;
...
&lt;/html&gt;</pre>

<p>The <em>.appcache</em> extension is actually not mandatory, but it&#8217;s the W3C standard, so you better adopt it in order to avoid incompatibilities with strict standard-observing browsers. The manifest attribute in a web application can specify either the relative path of a cache manifest file or an absolute URL (but they must be from the same origin as the application).</p>

<p>It&#8217;s important to know that this manifest must be <span style="text-decoration: underline;">included in each and every page that you want to be cached</span>, and you don&#8217;t have to list those pages in the manifest, because they will be automatically saved as the user visit them.</p>

<p>The cache manifest file must be served with the MIME type text/cache-manifest. In Apache, you can do that adding the following line to your .htaccess file:</p>

<pre>AddType text/cache-manifest .appcache</pre>

<h2 id="the-appcache-manifest-file:cac56a5fff391b52f21b9921cdfce1eb">The Appcache manifest file</h2>

<p>The Appcache manifest file is a simple text file that lists the resources (identified by URI) that you want the browser to cache for offline access. The following is an example of a manifest file:</p>

<pre>CACHE MANIFEST
# mywebapp.appcache v1
# this is my cache manifest 
fileindex.html
cache.html
style.css
image1.png

# Use from network if available
NETWORK:
network.html

# Fallback content
FALLBACK:
/ fallback.html</pre>

<p>It&#8217;s vital for the cache manifest to be identified as such to have <strong>CACHE MANIFEST</strong> as its first line. All the resources listed after that line are going to be cached.</p>

<p>The <strong>NETWORK</strong> section lists all the resources for which a network coverage is required, and you don&#8217;t want the browser to save them and use the cached version.</p>

<p>In the <strong>FALLBACK</strong> section we&#8217;re going to list the pages that should be showed when a certain resource is not available. In our case, we decided to show &#8220;<em>fallback.html</em>&#8221; for every resource not available (&#8220;<em>/</em>&#8220;).</p>

<p>You can also add a further section <strong>CACHE</strong>, which will work just as the lines after CACHE MANIFEST. All the three sections CACHE, NETWORK and FALLBACK are optional and can be declared more than once in the manifest file.</p>

<h2 id="testing:cac56a5fff391b52f21b9921cdfce1eb">Testing!</h2>

<p>If you think that this is going to work at the first attempt you&#8217;re probably crazy. The smallest error in the appcache manifest file will actually prevent your application to be locally cached on a device. In such situations, tools like <strong>Manifesto</strong> (<a title="Manifesto" href="http://manifesto.ericdelabar.com/" target="_blank"><a href="http://manifesto.ericdelabar.com/">http://manifesto.ericdelabar.com/</a></a>) are simply priceless and save you a lot of time and headaches.</p>

<p><del>Firefox and a few other browsers display a <strong>notification bar</strong> the first time a user loads an application that uses the application cache.</del> [<strong>UPDATE:</strong>  Since v. 26, there is no longer a notification bar on Firefox when websites use <em>appcache</em>]</p>

<h2 id="see-also:cac56a5fff391b52f21b9921cdfce1eb">See also</h2>

<ul>
<li>A beginner&#8217;s Guide to Using the Application Cache from HTML5Rocks: <a href="http://www.html5rocks.com/en/tutorials/appcache/beginner/" target="_blank"><a href="http://www.html5rocks.com/en/tutorials/appcache/beginner/">http://www.html5rocks.com/en/tutorials/appcache/beginner/</a></a></li>
<li>Check browser compatibilities on HTML5Test: <a href="http://html5test.com/compare/feature/offline-applicationCache.html" target="_blank"><a href="http://html5test.com/compare/feature/offline-applicationCache.html">http://html5test.com/compare/feature/offline-applicationCache.html</a></a></li>
</ul>

          ---<br>
          <div class="addthis_sharing_toolbox" style="text-align:left;margin:10px auto"></div>

          <section class='email-subscribe-text'>
            To get the latest high-quality articles on
            technology, software development and productivity
            <a href="https://feedburner.google.com/fb/a/mailverify?uri=MarcoTroisi&amp;loc=en_US">subscribe by email</a>.
          </section>
        </div>

      </article>
    </main>
  </div>

</div>


<script type="text/javascript" src="//s7.addthis.com/js/300/addthis_widget.js#pubid=ra-57447ba9c6ac9bf7"></script>

</div>

  <nav id="footer-menu" class="menu horizontal-menu footer-menu" role="navigation">
    <ul>
    <li id="menu-item-183" class="menu-item menu-item-type-custom menu-item-object-custom menu-item-home menu-item-183"><a href="http://www.marcotroisi.com/">Home</a></li>
    <li id="menu-item-38" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-38"><a href="http://www.marcotroisi.com/about/">About Me</a></li>
    <li id="menu-item-76" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-76"><a href="http://www.marcotroisi.com/contact/">Contact</a></li>
    </ul>
    <ul id="social-menu">
      <li><a target="_blank" href="http://www.github.com/marcotroisi">Github</a></li>
      <li><a target="_blank" href="http://www.twitter.com/marcotroisi">Twitter</a></li>
      <li><a target="_blank" href="http://www.linkedin.com/in/marcotroisi">LinkedIn</a></li>
    </ul>
  </nav>

	<footer id="colophon" class="site-footer" role="contentinfo">

  <div class="site-colophon">
		<p>© 2016 Marco Troisi</p>
	</div>

	</footer>
</div>

